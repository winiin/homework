<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bennet's Todo App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      padding-top: 50px;
      background: #f5f5f5;
    }
    .container {
      max-width: 400px;
      width: 100%;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background: white;
    }
    input[type="text"] {
      padding: 5px;
      width: 200px;
    }
    button {
      margin-left: 10px;
      padding: 5px 10px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 5px;
    }
    img {
      width: 50px;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@7/babel.min.js"></script>

  <!-- React code -->
  <script type="text/babel">

    const { useState, useEffect } = React;

    const Header = ({ name, avatar }) => (
      <header style={{ display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '20px' }}>
        <img src={avatar} alt={name} />
        <h1>{name}'s Todo App</h1>
      </header>
    );

    const TodoForm = ({ onAdd }) => {
      const [text, setText] = useState('');

      const handleSubmit = (e) => {
        e.preventDefault();
        if (!text.trim()) return;
        onAdd(text);
        setText('');
      };

      return (
        <form onSubmit={handleSubmit} style={{ marginBottom: '20px' }}>
          <input
            type="text"
            placeholder="Add new todo"
            value={text}
            onChange={(e) => setText(e.target.value)}
          />
          <button type="submit">Add</button>
        </form>
      );
    };

    const TodoItem = ({ todo, onDelete, onToggle }) => (
      <li>
        <input
          type="checkbox"
          checked={todo.completed}
          onChange={() => onToggle(todo.id)}
        />
        <span style={{ textDecoration: todo.completed ? 'line-through' : 'none' }}>
          {todo.text}
        </span>
        <button onClick={() => onDelete(todo.id)} style={{ marginLeft: 'auto' }}>‚ùå</button>
      </li>
    );

    const TodoList = ({ todos, onDelete, onToggle }) => {
      if (todos.length === 0) return <p>No tasks yet!</p>;

      return (
        <ul>
          {todos.map(todo => (
            <TodoItem
              key={todo.id}
              todo={todo}
              onDelete={onDelete}
              onToggle={onToggle}
            />
          ))}
        </ul>
      );
    };

    const App = () => {
      const [todos, setTodos] = useState(() => {
        const saved = localStorage.getItem('todos');
        return saved ? JSON.parse(saved) : [];
      });

      useEffect(() => {
        localStorage.setItem('todos', JSON.stringify(todos));
      }, [todos]);

      const addTodo = (text) => {
        const newTodo = { id: Date.now(), text, completed: false };
        setTodos([newTodo, ...todos]);
      };

      const deleteTodo = (id) => {
        setTodos(todos.filter(todo => todo.id !== id));
      };

      const toggleTodo = (id) => {
        setTodos(todos.map(todo =>
          todo.id === id ? { ...todo, completed: !todo.completed } : todo
        ));
      };

      return (
        <div className="container">
          <Header name="Bennet" avatar="https://i.pravatar.cc/150?img=3" />
          <TodoForm onAdd={addTodo} />
          <TodoList todos={todos} onDelete={deleteTodo} onToggle={toggleTodo} />
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);

  </script>
</body>
</html>